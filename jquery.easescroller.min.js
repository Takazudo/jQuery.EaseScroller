/*! jQuery.EaseScroller (https://github.com/Takazudo/jQuery.EaseScroller)
 * lastupdate: 2016-07-30
 * version: 1.2.1
 * author: 'Takazudo' Takeshi Takatsudo <takazudo@gmail.com>
 * License: MIT */
(function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;!function(b,c,d){var e,f,g;return g={},f=b(c),e=b(d),g.normalizeEasing=function(a){return"string"===b.type(a)?b.easing[a]:a},g.yOf=function(a){var b;for(b=0;a.offsetParent;)b+=a.offsetTop,a=a.offsetParent;return b},g.isHash=function(a){return/^#.+$/.test(a)},g.getWhereTo=function(a){var c;return c=b(a),c.data("scrollto")||c.attr("href")},g.calcY=function(a){var c,d;if("number"===b.type(a))return a;if("string"===b.type(a)){if(!g.isHash(a))return!1;c=e.find(a)}else c=b(a);return c.length?d=g.yOf(c[0]):null},g.scrollTop=function(a){return a?a.scrollTop():e.scrollTop()||d.documentElement.scrollTop||d.body.scrollTop||c.pageYOffset||0},g.scrollLeft=function(a){var b;return b=a||e,b.scrollLeft()},g.ua=function(){var a,c,d;return c={},d=navigator.userAgent,a=function(a){var e;return e=!1,b.each(a,function(a,b){var f;return f=new RegExp(b,"i"),Boolean(d.match(f))?(c[b]=!0,e=!0):c[b]=!1,!0}),e},a(["iphone","ipod","ipad"]||a(["android"]))&&(c.mobile=!0),c}(),g.Scroller=function(d){function h(a){null==a&&(a={}),this.options=b.extend({},g.Scroller.defaults),a&&this.option(a),this._handleMobile(),this._handleAltContainer()}var i;return a(h,d),i=["scrollstart","scrollend","scrollcancel"],h.defaults={speed:13,duration:350,changehash:!0,userskip:!0,selector:"a[href^=#]:not(.apply-noscroll)",adjustEndY:!1,dontAdjustEndYIfSelectorIs:null,dontAdjustEndYIfYis:null,easing:"swing",altScrollContainer:null},h.prototype._handleMobile=function(){return g.ua.mobile?(this.options.userskip=!1,this):this},h.prototype._handleAltContainer=function(){if(this.options.altScrollContainer)return this.$altScrollContainer=b(this.options.altScrollContainer),this},h.prototype._invokeScroll=function(){var a;return a=function(a){return function(){var d,e,f;return a._scrollDefer=b.Deferred(),a._scrollDefer.always(function(){return a._reservedHash=null,a._scrollDefer=null}),d=a.options,e=new EaseStepper({interval:d.speed,easing:d.easing,duration:d.duration,beginningValue:a._startY,endValue:a._endY}),f=function(b){return a.$altScrollContainer?a.$altScrollContainer.scrollTop(b.value):c.scrollTo(a._startX,b.value)},e.on("start",function(){return a.trigger("scrollstart",a._endY,a._reservedHash)}),e.on("step",function(b){return a._cancelNext?(a._cancelNext=!1,a._scrollDefer.reject(),e.stop(),a.trigger("scrollcancel",a._endY,a._reservedHash)):f(b)}),e.on("end",function(b){return f(b),a.options.changehash&&a._reservedHash&&(location.hash=a._reservedHash),a._scrollDefer.resolve(),a.trigger("scrollend",a._endY,a._reservedHash),a._startX=null}),e.start()}}(this),this._scrollDefer?this.stop().then(a):a(),this},h.prototype._prepareForScroll=function(a,c){var d,f,h;return h=!0,this.options.changehash&&(h=!1),this.options.adjustEndY===!1&&(h=!1),(null!=c?c.adjustEndY:void 0)===!1&&(h=!1),g.isHash(a)&&(this._reservedHash=a,this.options.dontAdjustEndYIfSelectorIs&&e.find(a).is(this.options.dontAdjustEndYIfSelectorIs)&&(h=!1)),f=g.calcY(a),f===!1?this:(this._startY=g.scrollTop(this.$altScrollContainer),f===this._startY?this:(this._startX=g.scrollLeft(this.$altScrollContainer),"number"===b.type(this.options.dontAdjustEndYIfYis)&&f===this.options.dontAdjustEndYIfYis&&(h=!1),d=0,null!=(null!=c?c.adjustEndY:void 0)?d=c.adjustEndY:this.options.adjustEndY!==!1&&(d=this.options.adjustEndY),f+=d,this._endY=this._normalizeEndYOverDoc(f),this))},h.prototype._normalizeEndYOverDoc=function(a){var b,c;return this.$altScrollContainer?a:(b=e.height(),c=f.height(),b<a+c&&(a=b-c),a<0&&(a=0),a)},h.prototype.stop=function(){return b.Deferred(function(a){return function(b){return a._scrollDefer?(a._cancelNext=!0,a._scrollDefer.fail(function(){return b.resolve()})):b.resolve()}}(this)).promise()},h.prototype.option=function(a){return a?(this.options=b.extend({},this.options,a),this._handleMobile(),b.each(i,function(a){return function(b,c){return a.options[c]&&a.on(c,a.options[c]),!0}}(this)),this.options.easing=g.normalizeEasing(this.options.easing),this):this.options},h.prototype.live=function(a){var b;return a=a||this.options.selector,b=this,e.delegate(a,"click",function(a){var c;return a.preventDefault(),c=g.getWhereTo(this),b.scrollTo(c)}),this},h.prototype.scrollTo=function(a,b){return this._prepareForScroll(a,b),this._invokeScroll(),this._scrollDefer.promise()},h}(c.EaseStepperNs.Event),b.fn.easescrollable=function(a){var c;return c=new g.Scroller(a),this.each(function(){var a;return a=b(this),a.data("easescroller",c),a.data("easescrollerattached")?this:(a.bind("click",function(a){return a.preventDefault(),c.scrollTo(g.getWhereTo(this))}),a.data("easescrollerattached",!0))})},b.EaseScrollerNs=g,b.EaseScroller=g.Scroller}(jQuery,window,document)}).call(this);